# =============================================================================
# REQUIREMENTS.TXT - CHAT IA INDEPENDENTE
# =============================================================================
# Depend√™ncias necess√°rias para o Chat IA Independente
#
# üì¶ INSTALA√á√ÉO:
#   pip install -r requirements.txt
#
# ‚ö†Ô∏è NOTA: Algumas depend√™ncias s√£o opcionais:
#   - openai: Necess√°rio apenas se DUIMP_AI_ENABLED=true e DUIMP_AI_PROVIDER=openai
#   - anthropic: Necess√°rio apenas se DUIMP_AI_ENABLED=true e DUIMP_AI_PROVIDER=anthropic
#   - pyodbc: Necess√°rio apenas se usando pyodbc para SQL Server (n√£o Node.js adapter)
#   - gunicorn: Necess√°rio apenas para produ√ß√£o (servidor WSGI Linux)
#   - waitress: Necess√°rio apenas para produ√ß√£o (servidor WSGI multiplataforma)
#   - Flask-Limiter: Necess√°rio apenas se usar rate limiting (recomendado produ√ß√£o)
# =============================================================================

# Core Flask Framework
Flask>=3.0.0,<4.0.0

# HTTP Requests (usado para comunica√ß√£o com APIs)
requests>=2.31.0,<3.0.0

# Carregamento de vari√°veis de ambiente (.env)
python-dotenv>=1.0.0,<2.0.0

# Banco de dados SQL Server (opcional - pode usar Node.js adapter em vez disso)
pyodbc>=5.0.0,<6.0.0

# Banco de dados Postgres (NOVO - 22/01/2026)
psycopg2-binary>=2.9.9,<3.0.0

# Servi√ßo de IA - OpenAI (opcional)
openai>=1.0.0,<2.0.0

# Servi√ßo de IA - Anthropic (opcional)
# anthropic>=0.18.0,<1.0.0

# =============================================================================
# LangChain (V1 - usado APENAS para planner de filtro de relat√≥rios, opcional)
# =============================================================================
# ‚ö†Ô∏è N√£o altera o comportamento por padr√£o.
# Para ativar: REPORT_FUZZY_PLANNER_BACKEND=langchain
langchain
langchain-core
langchain-openai

# =============================================================================
# NESH HF/FAISS (opcional - indexa√ß√£o sem√¢ntica local)
# =============================================================================
# ‚ö†Ô∏è S√≥ √© usado se NESH_HF_ENABLED=true e o √≠ndice FAISS existir.
sentence-transformers
faiss-cpu
numpy

# Web Search para enriquecer consultas (opcional)
duckduckgo-search>=4.0.0,<5.0.0

# RPA / automa√ß√£o de navega√ß√£o (opcional - Mercante e outros portais)
playwright>=1.42.0,<2.0.0

# Gera√ß√£o de PDF (para extrato de DUIMP)
xhtml2pdf>=0.2.11,<1.0.0

# Parsing de datas (usado em processo_kanban_dto.py)
python-dateutil>=2.8.0,<3.0.0

# Agendamento de tarefas (para notifica√ß√µes agendadas)
APScheduler>=3.10.4

# Parsing de feeds RSS (para not√≠cias do Siscomex)
feedparser>=6.0.10,<7.0.0  # ‚úÖ NOVO (17/01/2026): Para integra√ß√£o de feeds RSS do Siscomex

# Parsing de HTML (para importa√ß√£o de legisla√ß√£o)
beautifulsoup4>=4.12.0,<5.0.0

# Leitura de PDF (para importa√ß√£o de legisla√ß√£o)
PyPDF2>=3.0.0,<4.0.0
pdfplumber>=0.10.0,<1.0.0  # ‚úÖ NOVO (13/01/2026): Biblioteca mais robusta para extra√ß√£o de texto de PDFs
pdf2image>=1.16.0,<2.0.0  # ‚úÖ NOVO (13/01/2026): Para converter PDF para imagem (necess√°rio para OpenAI Vision)
Pillow>=10.0.0,<11.0.0  # ‚úÖ NOVO (13/01/2026): Necess√°rio para pdf2image (manipula√ß√£o de imagens)

# =============================================================================
# DEPEND√äNCIAS PARA PRODU√á√ÉO (OPCIONAIS - INSTALAR SEPARADAMENTE)
# =============================================================================
# Para instala√ß√£o em produ√ß√£o, escolha UMA op√ß√£o:

# Op√ß√£o 1: Gunicorn (Linux - Recomendado)
gunicorn>=21.2.0

# Op√ß√£o 2: Waitress (Windows/Linux - Multiplataforma)
# waitress>=2.1.0

# Op√ß√£o 3: Rate Limiting (Recomendado para produ√ß√£o)
# Flask-Limiter>=3.5.0

# =============================================================================
# DEPEND√äNCIAS DO SISTEMA (N√ÉO INSTALADAS VIA PIP):
# =============================================================================
# - OpenSSL: Necess√°rio para autentica√ß√£o mTLS (certificados PKCS#12)
#   Windows: Instalar via https://slproweb.com/products/Win32OpenSSL.html
#   Linux: sudo apt-get install openssl
#   macOS: brew install openssl
#
# - ODBC Driver 17 ou 18 for SQL Server (se usando pyodbc)
#   Windows: https://aka.ms/downloadmsodbcsql
#   Linux: https://docs.microsoft.com/en-us/sql/connect/odbc/linux-mac/installing-the-microsoft-odbc-driver-for-sql-server
#   macOS: brew install msodbcsql18
#
# - Node.js (opcional - apenas se usar Node.js adapter para SQL Server)
#   https://nodejs.org/
#
# - Poppler (necess√°rio para pdf2image - convers√£o de PDF para imagem)
#   macOS: brew install poppler
#   Linux: sudo apt-get install poppler-utils
#   Windows: https://github.com/oschwartz10612/poppler-windows/releases
#
# - Python 3.9 ou superior
# =============================================================================





